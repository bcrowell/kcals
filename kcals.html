<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Kcals - estimate energy consumption when running or walking</title>
  </head>
  <body>
    <h1>Kcals - estimate energy consumption when running or walking</h1>
    <p>
      This app estimates your energy expenditure
      from running or walking, based on a GPS track or a track generated by
      an application such as google maps or mapmyrun. 
    </p>
    <p>
      To download a track from mapmyrun: Pop up the route in your browser. On the right-hand side of the
      screen, under ROUTE INFO, do Export this Route. In the pop-up, click on the tab that says
      EXPORT AS KML, then do DOWNLOAD KML FILE.
    </p>
    <p>
      <form method="POST" enctype="multipart/form-data" action="http://lightandmatter.com/cgi-bin/kcals.cgi">

        <label for="file">File:</label>
        <input type="file" name="file" size="100" id="file"/><br>

        <input type="radio" name="metric" value="1"> Metric units
        <input type="radio" name="metric" value="0" checked> U.S. units <br>

        <input type="radio" name="running" value="1" checked> Running
        <input type="radio" name="running" value="0"> walking <br>

        Body weight: <input type="text" name="weight" value="66"> kg <br>

        Format of input file: <input type="radio" name="format" value="kml" checked> KML 
        <input type="radio" name="format" value="txt"> text
        <input type="radio" name="format" value="csv"> CSV 
        <br>

        <input type="submit" value="Submit"/>
      </form>
    </p>
    <p>
      After you click the submit button, it may take a little time for the results to be displayed.
      This will happen if the elevation profile for your route is not included in your input file,
      and therefore has to be downloaded from a database.
    </p>
    <p>
      The method used to calculate the energy expenditure is from
      <a href="http://jap.physiology.org/content/93/3/1039.full">Minetti et al.
      "Energy cost of walking and running at extreme uphill and downhill slopes,"
      J. Applied Physiology 93 (2002) 1039</a>,
      and is based on laboratory data from elite mountain runners on a treadmill.
      YMMV, and probably most of us are far less efficient than these guys.
      I find the data most useful if I want to compare
      one run to another, e.g., if I want to know how a mountain run with lots of elevation gain
      compares with a flat run at a longer distance.
    </p>
    <p>
      This software is <a href="https://github.com/bcrowell/kcals">open source</a>, and if you prefer
      to run it on your machine rather than through a web interface, you can do that from the unix
      command line.
    </p>
  </body>
</html>
