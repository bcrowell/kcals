<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Kcals - estimate energy consumption when running or walking</title>
  </head>
  <body>
    <h1>Kcals - estimate energy consumption when running or walking</h1>
    <p>
      This app estimates your energy expenditure
      from running or walking, based on a GPS track or a track generated by
      an application such as google maps or mapmyrun. 
    </p>
    <p>
      To download a track from mapmyrun: Pop up the route in your browser. On the right-hand side of the
      screen, under ROUTE INFO, do Export this Route. In the pop-up, click on the tab that says
      EXPORT AS ... and download in either GPX or KML format.
    </p>
    <p>
      If you don't have a file handy, but want to try the software, right-click on this link to
      download the file
      <a href="https://raw.githubusercontent.com/bcrowell/kcals/master/sample.kml">sample.kml</a>,
      then upload it using the form below.
    </p>
    <p>
      <form method="POST" enctype="multipart/form-data" action="http://lightandmatter.com/cgi-bin/kcals/kcals.cgi">

        <label for="file">File:</label>
        <input type="file" name="file" size="100" id="file"/><br>

        <input type="radio" name="metric" value="1"> Metric units
        <input type="radio" name="metric" value="0" checked> U.S. units <br>

        <input type="radio" name="running" value="1" checked> Running
        <input type="radio" name="running" value="0"> walking <br>

        Body weight: <input type="text" name="weight" value="66"> kg <br>

        Format of input file: <input type="radio" name="format" value="gpx" checked> GPX
        <input type="radio" name="format" value="kml"> KML 
        <br>

        <input type="submit" value="Submit"/>
      </form>
    </p>
    <p>
      After you click the submit button, it may take a little time for the results to be displayed.
      This will happen if the elevation profile for your route is not included in your input file,
      and therefore has to be downloaded from a database.
    </p>
    <p>
The model used to calculate the results is described in this paper:

B. Crowell, "From treadmill to trails: predicting performance of runners,"
<a href="https://www.biorxiv.org/content/10.1101/2021.04.03.438339v1">https://www.biorxiv.org/content/10.1101/2021.04.03.438339v1</a>,
doi: 10.1101/2021.04.03.438339 

The output from this software is most useful if you want to compare
one run to another, e.g., if I want to know how a mountain run with lots of elevation gain
compares with a flat run at a longer distance, or if I want to project whether doing a certain
trail as a run is feasible for me.
    </p>
    <p>
      This software is <a href="https://github.com/bcrowell/kcals">open source</a>, and if you prefer
      to run it on your machine rather than through a web interface, you can do that from the unix
      command line.
    </p>
  </body>
</html>
